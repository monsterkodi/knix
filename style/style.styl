
@import 'scheme-dark.styl'

// ____________________________________ functions

shadow()
  -webkit-box-shadow: shadowDef
  box-shadow:         shadowDef

defaultCursor()
  cursor:             default

handCursor()
    cursor:           pointer

textCursor()
    cursor:           text
    -moz-user-select: text

bgColorHover(c)
    background-color: c
    &:hover
        background-color: lighten(c, 5)
    &:active
        background-color: lighten(c, 10)

noSelection()
    user-select:        none
    -moz-user-select:   none

icon(x,y)
  top:                  1px
  width:                20px
  height:               20px
  display: block
  border:               0
  background-color:     transparent
  background-repeat:    no-repeat
  background-image:     url('../img/arrows.png')
  background-size:      auto 200px
  background-position:  (- x * 20px ) ( - y * 20px )
  filter:               brightness(20%)
  &:hover
      background-position: ( - x * 25px ) ( - y * 25px )
      background-size:  auto 240px
      filter:           brightness(30%)
    &:active
      background-position: (- x * 20px ) ( - y * 20px )
      background-size:  auto 200px
      filter:           brightness(100%)

// ____________________________________ toplevel

body
    font-family:      "Verdana"
    height:           100%
    margin:           0px

html
    height:           100%

#stage
    position:         relative
    width:            100%
    height:           100%
    overflow:         hidden
    color:            textColors.global
    user-select:      none

#stage_content
    position:         relative
    width:            100%
    height:           100%
    overflow:         auto
    background-color: widgetColors.stage

// ____________________________________ widgets

.widget
    position:         absolute
    overflow:         hidden
    border:           widgetBorders.bg
    background-color: widgetColors.bg

.widget .static-left
    position:         static
    float:            left
.widget .static-right
    position:         static
    float:            right
.widget .static
    position:         static

.widget_content
    padding-left:  10px
    padding-right: 10px
    padding-top:   10px
    > *
      margin-bottom: 10px

.frame
    border-top-left-radius:     widgetTopRadius
    border-top-right-radius:    widgetTopRadius
    border-bottom-left-radius:  widgetBotRadius
    border-bottom-right-radius: widgetBotRadius
    shadow()

.widget .title
    color:            textColors.title
    height:           widgetHeaderSize
    text-align:       center
    vertical-align:   top
    overflow:         hidden
    font-size:        widgetTitleFontSize
    border-bottom:    widgetBorders.title
    bgColorHover(widgetColors.title)
    noSelection()
    defaultCursor()

.widget .close
    float:            left
    width:            widgetHeaderSize
    height:           widgetHeaderSize
    border-right:     widgetBorders.close
    border-bottom:    widgetBorders.close
    margin-bottom:  - widgetBorderWidth
    bgColorHover(widgetColors.close)
    noSelection()
    handCursor()

.widget .shade
    float:            right
    width:            widgetHeaderSize
    height:           widgetHeaderSize
    border-left:      widgetBorders.shade
    border-bottom:    widgetBorders.close
    margin-bottom:  - widgetBorderWidth
    bgColorHover(widgetColors.shade)
    noSelection()
    handCursor()

.widget .size
    position:         absolute
    bottom:           0px
    right:            0px
    width:            widgetHeaderSize * 0.5
    height:           widgetHeaderSize * 0.5
    border-left:      widgetBorders.size
    border-top:       widgetBorders.size
    background-color: widgetColors.size
    &:hover
        background-color: darken(widgetColors.size, 2)
    &:active
        background-color: lighten(widgetColors.size, 10)

.relative
    position:         relative

.top-right
    position:         absolute
    top:              0px
    right:            0px

// ____________________________________ scroll

.scroll
    overflow:         hidden
    noSelection()
    border-radius:    widgetTopRadius
    border:           widgetBorders.scroll
    background-color: widgetColors.scroll
    box-sizing:       border-box

.scroll-handle
    position:         relative
    border-radius:    widgetTopRadius - scrollBorderWidth
    border:           0
    background-color: widgetColors.scroll-handle
    &:hover
        background-color: widgetColors.scroll-handle-hover
    &:active
        background-color: widgetColors.scroll-handle

// ____________________________________ slider

.slider
    height:           sliderHeight
    overflow:         hidden
    border-radius:    widgetTopRadius
    border:           widgetBorders.slider
    background-color: widgetColors.slider
    box-sizing:       border-box

.slider-bar
    position:         absolute
    border-radius:    0
    border:           0
    height:           sliderHeight
    background-color: widgetColors.slider-bar

.slider-knob
    position:         absolute
    border-radius:    sliderHeight - sliderBorderWidth * 2
    border:           0
    height:           sliderHeight - sliderBorderWidth * 2
    width:            sliderHeight - sliderBorderWidth * 2
    background-color: widgetColors.scroll-handle
    &:hover
      background-color: widgetColors.scroll-handle-hover
    &:active
      background-color: widgetColors.scroll-handle

// ____________________________________ value

.value
    height:           valueHeight
    overflow:         hidden
    handCursor()
    border-radius:    widgetTopRadius
    border:           widgetBorders.value
    background-color: widgetColors.value

.value-table
.value-row
.value-td
    border-collapse: collapse
    margin:   0
    padding:  0

.value-content
    width:            100%
    margin:           0
    padding:          0
    background-color: widgetColors.value-input

.value-input
    textCursor()
    padding:          0
    margin:           0
    border:           0
    text-align:       center
    background-color: transparent
    color:            widgetColors.value-active
    box-sizing:       border-box
    font-weight:      bold
    font-size:        16px
    height:           20px
    width:            100%
    &::-moz-selection
      background:     widgetColors.value-active
      color:          black

// ____________________________________ icons

.arrow-left
    icon(3, 1)

.arrow-right
    icon(2, 1)

.arrow-up
    icon(3, 0)

.arrow-down
    icon(2, 0)

// ____________________________________ button

.button
    overflow:         hidden
    padding-left:     6px
    padding-right:    6px
    text-align:       center
    font-size:        14px
    font-weight:      bold
    border-radius:    buttonRadius
    border:           widgetBorders.button
    color:            textColors.button
    &:active
      color:          yellow // textColors.button-active
    &:hover
        color:        textColors.button-hover
    handCursor()
    noSelection()
    bgColorHover(     widgetColors.button )

// ____________________________________ menus

.menu
    position:         absolute
    overflow:         hidden
    border-right:     widgetBorders.menu
    border-radius:    buttonRadius
    & > *
      noSelection()
      color:          textColors.menu

.menu .button
    float:            left
    font-weight:      normal
    padding-left:     8px
    padding-right:    8px
    height:           widgetHeaderSize
    margin-right:     -1px
    bgColorHover(     widgetColors.menu )
    border:           widgetBorders.menu
    &:hover
      color: textColors.menu-hover
    &:active
      color: textColors.menu-active
