
// ____________________________________ constants

widgetHeaderSize    = 20px
widgetTitleFontSize = widgetHeaderSize - 6px

textColors          = {}
textColors.global   = white
textColors.button   = #8aa

widgetColors        = {}
// widgetColors.stage  = #181D20
// widgetColors.bg     = #343C45
// widgetColors.button = #1D4F73
// widgetColors.menu   = #252C33
// widgetColors.title  = lighten(widgetColors.bg,5)
// widgetColors.close  = lighten(widgetColors.bg,10)
// widgetColors.shade  = lighten(widgetColors.bg,15)
// widgetColors.size   = darken(widgetColors.bg,3)

colors = {}
colors.grayVeryDark     = #090A0E
colors.grayDark         = #191A1E
colors.grayStage        = #1d2025
colors.grayDarkMedium   = #24252A
colors.grayMediumDark   = #2E3138
colors.grayMedium       = #454954
colors.grayMediumBright = #515862
colors.redDark          = #D0461F
colors.red              = #EC4F23
colors.redBright        = #EFAF31
colors.blueDark         = #2E92B9
colors.blue             = #33A2D1
colors.greenDark        = #72A01C
colors.green            = #8BB62D

widgetColors.stage  = colors.grayStage
widgetColors.bg     = colors.grayMediumDark
widgetColors.button = colors.blue
widgetColors.menu   = colors.grayMediumDark
widgetColors.title  = colors.grayMedium
widgetColors.close  = colors.grayMediumBright
widgetColors.shade  = colors.grayMediumBright
widgetColors.size   = colors.grayMediumDark
widgetColors.slider        = colors.grayDark
widgetColors.slider-bar    = colors.red
widgetColors.scroll        = colors.grayDark
widgetColors.scroll-handle = colors.redBright
widgetColors.value         = colors.grayDark
widgetColors.value-border  = colors.grayMedium
widgetColors.value-active  = colors.green

textColors.button   = #ddd

borderColors        = {}
borderColors.widget = #191A1E
borderColors.menu   = #24252A
borderColors.button = colors.grayMedium

widgetTopRadius      = widgetHeaderSize * 0.5
widgetBotRadius      = widgetTopRadius
widgetBorderWidth    = 1px
sliderBorderWidth    = 2px
scrollBorderWidth    = 2px
widgetBorders        = {}
widgetBorders.bg     = widgetBorderWidth solid borderColors.widget
widgetBorders.title  = widgetBorderWidth solid borderColors.widget
widgetBorders.close  = widgetBorderWidth solid borderColors.widget
widgetBorders.shade  = widgetBorderWidth solid borderColors.widget
widgetBorders.size   = 0px solid borderColors.widget
widgetBorders.menu   = widgetBorderWidth solid borderColors.menu
widgetBorders.button = 0px solid borderColors.button
widgetBorders.slider = sliderBorderWidth solid widgetColors.slider
widgetBorders.scroll = scrollBorderWidth solid widgetColors.scroll
widgetBorders.value  = 0px solid widgetColors.value-border

buttonRadius        = 6px
buttonHeight        = 26px

shadowDef = 2px 2px 10px 2px rgba(0,0,0,0.4)

::selection
  background: colors.blue
  color: black

::-moz-selection
  background: colors.blue
  color: black

// ____________________________________ functions

shadow()
  -webkit-box-shadow: shadowDef
  box-shadow:         shadowDef

handCursor()
    cursor:           pointer

textCursor()
    cursor:           text
    -moz-user-select: text

bgColorHover(c)
    background-color: c
    &:hover
        background-color: lighten(c, 10)
    &:active
        background-color: lighten(c, 20)

noSelection()
    user-select: none

icon(x,y)
  top:                  1px
  width:                20px
  height:               20px
  display: block
  border:               0
  background-color:     transparent
  background-repeat:    no-repeat
  background-image:     url('../img/arrows.png')
  background-size:      auto 200px
  background-position:  (- x * 20px ) ( - y * 20px )
  filter:               brightness(20%)
  &:hover
      background-position: ( - x * 25px ) ( - y * 25px )
      background-size:  auto 240px
      filter:           brightness(30%)
    &:active
      background-position: (- x * 20px ) ( - y * 20px )
      background-size:  auto 200px
      filter:           brightness(100%)

// ____________________________________ toplevel

body
    font-family:      "Verdana"
    height:           100%
    margin:           0px

html
    height:           100%

#stage
    position:         relative
    width:            100%
    height:           100%
    overflow:         hidden
    color:            textColors.global
    user-select:      none

#stage_content
    position:         relative
    width:            100%
    height:           100%
    overflow:         auto
    background-color: widgetColors.stage

// ____________________________________ widgets

.widget
    position:         absolute
    overflow:         hidden
    border:           widgetBorders.bg
    background-color: widgetColors.bg

.widget .static-left
    position:         static
    float:            left
.widget .static-right
    position:         static
    float:            right
.widget .static
    position:         static

.widget_content
    padding-left:  10px
    padding-right: 10px
    padding-top:   10px
    *
      margin-bottom: 10px

.frame
    border-top-left-radius:     widgetTopRadius
    border-top-right-radius:    widgetTopRadius
    border-bottom-left-radius:  widgetBotRadius
    border-bottom-right-radius: widgetBotRadius
    shadow()

.widget .title
    height:           widgetHeaderSize
    text-align:       center
    vertical-align:   top
    overflow:         hidden
    font-size:        widgetTitleFontSize
    border-bottom:    widgetBorders.title
    bgColorHover(widgetColors.title)
    noSelection()

.widget .close
    float:            left
    width:            widgetHeaderSize
    height:           widgetHeaderSize
    border-right:     widgetBorders.close
    border-bottom:    widgetBorders.close
    margin-bottom:  - widgetBorderWidth
    border-top-left-radius: widgetTopRadius
    bgColorHover(widgetColors.close)
    noSelection()
    handCursor()

.widget .shade
    float:            right
    width:            widgetHeaderSize
    height:           widgetHeaderSize
    border-left:      widgetBorders.shade
    border-bottom:    widgetBorders.close
    margin-bottom:  - widgetBorderWidth
    border-top-right-radius: widgetTopRadius
    bgColorHover(widgetColors.shade)
    noSelection()
    handCursor()

.widget .size
    position:         absolute
    bottom:           0px
    right:            0px
    width:            widgetHeaderSize * 0.5
    height:           widgetHeaderSize * 0.5
    border-left:      widgetBorders.size
    border-top:       widgetBorders.size
    background-color: widgetColors.size
        &:hover
            background-color: darken(widgetColors.size, 2)
        &:active
            background-color: lighten(widgetColors.size, 10)

// ____________________________________ button

.button
    overflow:         hidden
    handCursor()
    noSelection()
    padding-left:     6px
    padding-right:    6px
    text-align:       center
    font-size:        14px
    font-weight:      bold
    border-radius:    buttonRadius
    border:           widgetBorders.button
    color:            textColors.button
    bgColorHover(     widgetColors.button )
    &:hover
        color:        lighten(textColors.button,30)

// ____________________________________ scroll

.scroll
    overflow:         hidden
    noSelection()
    border-radius:    widgetTopRadius
    border:           widgetBorders.scroll
    background-color: widgetColors.scroll
    box-sizing:       border-box

.scroll-handle
    position:         relative
    border-radius:    widgetTopRadius - scrollBorderWidth
    border:           0
    background-color: widgetColors.scroll-handle
    &:hover
        background-color: widgetColors.scroll-handle-hover
    &:active
        background-color: widgetColors.scroll-handle

.slider
    overflow:         hidden
    border-radius:    widgetTopRadius
    border:           widgetBorders.slider
    background-color: widgetColors.slider
    box-sizing:       border-box

.slider-content
    position:         relative

.slider-bar
    position:         absolute
    border-radius:    0
    border:           0
    background-color: widgetColors.slider-bar

.slider-knob
    position:         absolute
    border-radius:    widgetTopRadius - scrollBorderWidth
    border:           0
    background-color: widgetColors.scroll-handle
    &:hover
      background-color: widgetColors.scroll-handle-hover
    &:active
      background-color: widgetColors.scroll-handle

.value
    overflow:         hidden
    handCursor()
    border-radius:    widgetTopRadius
    border:           widgetBorders.value
    background-color: widgetColors.value

.value-input-div
    position: static
    height: 20px
    width: fit-content
    background-color: colors.blue

.value-input
    textCursor()
    padding:          0
    margin:           0
    border:           0
    text-align:       right
    background-color: colors.blue // colors.grayMediumDark
    color:            widgetColors.value-active
    padding-right:    4px
    padding-left:     4px
    box-sizing:       border-box
    font-weight:      bold
    font-size:        16px
    height:           20px

.arrow-left
    icon(3, 1)

.arrow-right
    icon(2, 1)

.arrow-up
    icon(3, 0)

.arrow-down
    icon(2, 0)

// ____________________________________ menus

.menu
    position:         absolute
    overflow:         hidden
    border-right:     widgetBorders.menu
    border-radius:    buttonRadius

.menu .button
    float:            left
    font-weight:      normal
    padding-left:     8px
    padding-right:    8px
    height:           widgetHeaderSize
    margin-right:     -1px
    bgColorHover(     widgetColors.menu )
    border:           widgetBorders.menu
